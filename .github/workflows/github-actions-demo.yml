name: Update WakaTime Stats

on:
  schedule:
    - cron: "0 0 * * *"  # æ¯å¤© UTC 0 ç‚¹è¿è¡Œï¼ˆåŒ—äº¬æ—¶é—´ 8:00ï¼‰
  workflow_dispatch:     # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  update-readme:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          persist-credentials: false  # é‡è¦ï¼å¦åˆ™æ¨é€ä¼šå¤±è´¥

      - name: Update README with WakaTime Stats
        uses: anmol098/waka-readme-stats@master
        with:
          # ğŸ”‘ å¿…éœ€å‚æ•°
          WAKATIME_API_KEY: ${{ secrets.WAKATIME_API_KEY }}  # WakaTime API Key
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}             # GitHub è‡ªåŠ¨ç”Ÿæˆçš„ Token

          # ğŸ“… åŸºç¡€æ˜¾ç¤ºé…ç½®
          SHOW_TITLE: "True"                # æ˜¾ç¤ºæ ‡é¢˜ "ğŸ“Š Weekly Development Breakdown"
          SHOW_TOTAL_CODE_TIME: "True"     # æ˜¾ç¤ºæ€»ç¼–ç æ—¶é—´
          SHOW_DAYS_OF_WEEK: "True"        # æ˜¾ç¤ºä¸€å‘¨æ´»åŠ¨åˆ†å¸ƒ
          SHOW_EDITORS: "True"             # æ˜¾ç¤ºå¸¸ç”¨ç¼–è¾‘å™¨
          SHOW_LANGUAGE: "True"            # æ˜¾ç¤ºç¼–ç¨‹è¯­è¨€
          SHOW_OS: "True"                  # æ˜¾ç¤ºæ“ä½œç³»ç»Ÿ
          SHOW_PROJECTS: "True"            # æ˜¾ç¤ºé¡¹ç›®ç»Ÿè®¡
          SHOW_TIMEZONE: "True"            # æ˜¾ç¤ºæ—¶åŒº

          # ğŸ¨ é«˜çº§é…ç½®
          SHOW_LOC_CHART: "False"          # ä»£ç è¡Œæ•°å›¾è¡¨ï¼ˆé»˜è®¤å…³é—­ï¼‰
          SHOW_LANGUAGE_PER_REPO: "False"  # æŒ‰ä»“åº“æ˜¾ç¤ºè¯­è¨€ï¼ˆé»˜è®¤å…³é—­ï¼‰
          SHOW_PROFILE_VIEWS: "False"      # GitHub Profile è®¿é—®é‡ï¼ˆéœ€è¦é¢å¤–é…ç½®ï¼‰
          SHOW_COMMIT: "False"            # æ˜¾ç¤ºæäº¤æ¬¡æ•°ï¼ˆéœ€è¦ Git å†å²ï¼‰

          # âœï¸ æ–‡æœ¬è‡ªå®šä¹‰
          SECTION_NAME: "My Coding Stats"  # README ä¸­æ ‡é¢˜åç§°
          COMMIT_MESSAGE: "ğŸ“Š Update WakaTime Stats"  # æäº¤ä¿¡æ¯
          TIMEZONE: "Asia/Shanghai"        # æ—¶åŒºï¼ˆé»˜è®¤ UTCï¼‰

          # ğŸ”§ è°ƒè¯•é€‰é¡¹
          DEBUG_LOGGING: "False"           # å¼€å¯è¯¦ç»†æ—¥å¿—ï¼ˆè°ƒè¯•ç”¨ï¼‰

      # å¯é€‰ï¼šæ·»åŠ ä¸€ä¸ªå®ŒæˆçŠ¶æ€æç¤º
      - name: Notify Success
        if: success()
        run: echo "âœ… README æ›´æ–°æˆåŠŸï¼"
